<div class="row">
  testar validação de formulario e reativo
        <p>Form value : {{form.value | json}}</p>
        <p>Form valid : {{form.status | json}}</p>
    <div class="col-sm-20">
      <div class="container">
        <div class="col-lg-60 mt-4">
          <div class="card">
            <div class="card-header">
              <h5><b>Cadastro Digital</b></h5>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col col-md-4"><app-menu></app-menu></div>
                <div class="col">
                <div class="card">
                  <div class="card-header">
                    <h6><b>Dados Pessoais</b></h6>
                  </div>
                  <div class="col-1">
                    <div class="card card-informacao">
                      <div class="card-body">
                        <h5 class="card-title"><b>Informação</b></h5>
                        <p class="card-text">Todos os itens com (*) são obrigatórios.</p>
                      </div>
                    </div>
                  </div>
                  <form [formGroup]="form">
                    <div class="col-3">
                      <div>RG*</div>
                      <input formControlName="rg" id="rg" class="effect" type="text" [ngClass]="cssValidation(f.rg)"
                        maxlength="12">
                      <div class="invalid-tooltip" *ngIf="f.rg.errors?.required">
                        RG é obrigatório.
                      </div>
                      <div class="invalid-tooltip" *ngIf="f.rg.errors?.minlength">
                        RG deve ter no minimo 8 caracteres.
                      </div>
                      <div class="invalid-tooltip" *ngIf="f.rg.errors?.maxlength">
                        RG deve ter no máxino 12 caracteres.
                      </div>
                      <span class="focus-border"></span>
                    </div>
                    <div class="col-3">
                      <div>Data de Emissão*</div>
                      <input class="effect" type="text" [ngClass]="cssValidation(f.dataEmissao)"
                      formControlName="dataEmissao" bsDatepicker [bsConfig]="bsConfig()" maxlength="10" onkeydown="return false">
                      <div class="invalid-tooltip" *ngIf="f.dataEmissao.errors?.required">
                        Data de Emissão é obrigatório.
                      </div>
                      <div class="invalid-tooltip" *ngIf="f.dataEmissao.errors?.minlength">
                        Data de Emissão deve ter no minimo 10 caracteres.
                      </div>
                      <div class="invalid-tooltip" *ngIf="f.dataEmissao.errors?.maxlength">
                        Data de Emissão deve ter no máxino 10 caracteres.
                      </div>
                      <div class="invalid-tooltip" *ngIf="f.dataEmissao.errors?.invalidDate">
                        Data de emissão deve ser menor que a data atual.
                      </div>
                      <span class="focus-border"></span>
                    </div>
                    <div class="col-3">
                      <div>Orgão Expedidor*</div>
                      <select required class="effect" type="text" [ngClass]="cssValidation(f.orgaoExpedidorId)" formControlName="orgaoExpedidorId" id="orgaoExpedidorId" (change)="changeCss('orgaoExpedidorId')" >
                        <option *ngFor="let orgaoExpedidor of orgaosExpedidores" value="{{orgaoExpedidor.id}}">{{orgaoExpedidor.sigla}}</option>
                      </select>
                      <span class="focus-border"></span>
                      <div class="invalid-selector" *ngIf="f.orgaoExpedidorId.touched && f.orgaoExpedidorId.invalid">
                        Orgão Expedidor é obrigatório.
                      </div>
                    </div>
                    <div class="col-3">
                      <div>Estado Expedidor*</div>
                      <select class="effect" id="ufExpedidorId" [ngClass]="cssValidation(f.ufExpedidorId)" formControlName="ufExpedidorId" (change)="getCidade()">
                        <!-- <option disabled selected hidden value="">Estado Expedidor*</option> -->
                        <option *ngFor="let estado of estados" value="{{estado.id}}">{{estado.sigla}}</option>
                      </select>
                      <div class="invalid-selector" *ngIf="f.ufExpedidorId.touched && f.ufExpedidorId.invalid">
                        Estado Expedidor é obrigatório.
                      </div>
                      <span class="focus-border"></span>
                    </div>
                    <div class="col-3">
                      <div>Naturalidade*</div>
                      <select class="effect" id="naturalidadeId" [ngClass]="cssValidation(f.naturalidadeId)" formControlName="naturalidadeId" id="naturalidadeId" (change)="changeCss('naturalidadeId')">
                        <!-- <option disabled selected hidden value="">Naturalidade*</option> -->
                        <option *ngFor="let cidade of cidades" value="{{cidade.id}}">{{cidade.nome}}</option>
                      </select>
                      <div class="invalid-selector" *ngIf="f.naturalidadeId.touched && f.naturalidadeId.invalid">
                        Naturalidade é obrigatório.
                      </div>
                      <span class="focus-border"></span>
                    </div>
                    <div class="col-3">
                      <div>Nacionalidade*</div>
                      <select readonly class="effect" id="nacionalidadeId" [ngClass]="cssValidation(f.nacionalidadeId)" formControlName="nacionalidadeId" id="nacionalidadeId" (change)="changeCss('nacionalidadeId')">
                        <!-- <option disabled selected hidden value="">Nacionalidade*</option> -->
                        <option *ngIf="pais != undefined" value="{{pais.id}}">{{pais.nome}}</option>
                      </select>
                      <div class="invalid-selector" *ngIf="f.nacionalidadeId.touched && f.nacionalidadeId.invalid">
                        Nacionalidade é obrigatório.
                      </div>
                      <span class="focus-border"></span>
                    </div>
                    <div class="col-3">
                      <div>Estado Civil*</div>
                      <select class="effect" [ngClass]="cssValidation(f.estadoCivilId)" formControlName="estadoCivilId" id="estadoCivilId" (change)="changeCss('estadoCivilId')">
                        <!-- <option disabled selected hidden value="">Estado Civil*</option> -->
                        <option *ngFor="let estadocivil of estadosCivil" value="{{estadocivil.id}}">{{estadocivil.nome}}</option>
                      </select>
                      <div class="invalid-selector" *ngIf="f.estadoCivilId.touched && f.estadoCivilId.invalid">
                        Estado Civil é obrigatório.
                      </div>
                      <span class="focus-border"></span>
                    </div>
                    <div class="col-3">
                      <div>Sexo*</div>
                      <select class="effect" placeholder="" [ngClass]="cssValidation(f.sexoId)" formControlName="sexoId" id="sexoId" (change)="changeCss('sexoId')">
                        <!-- <option disabled selected hidden value="">Sexo*</option> -->
                        <option *ngFor="let sexo of sexos" value="{{sexo.id}}">{{sexo.nome}}</option>
                      </select>
                      <div class="invalid-selector" *ngIf="f.sexoId.touched && f.sexoId.invalid">
                        Sexo é obrigatório.
                      </div>
                      <span class="focus-border"></span>
                    </div>
                    <div class="col-1">
                      <div class="card card-informacao">
                        <div class="card-body">
                          <h5 class="card-title"><b>Informação</b></h5>
                          <p class="card-text">Clique em Adicionar para adicionar e preencher novas redes sociais.</p>
                        </div>
                      </div>
                    </div>
                    <div class="col-1">
                    <div class="card rounded shadow-sm mt-4 ce">
                      <div class="p-2">
                        <div class="d-flex border-bottom">
                          <h5 class="mr-auto">
                            Rede Social
                          </h5>
                          <h5>&nbsp;
                            <i class="fab fa-facebook">&nbsp;</i>
                            <i class="fab fa-instagram">&nbsp;</i>
                            <i class="fab fa-twitter">&nbsp;</i>
                            <i class="fab fa-linkedin">&nbsp;</i>
                          </h5>
                        </div>
                        <div class="form-row">
                          <div [formGroup]="form" class="col">
                            <div formArrayName="redesSociais" *ngFor="let redeSocial of redesSociais.controls; let i=index">
                              <fieldset [formGroupName]="i" class="form-group">
                                <div class="row">
                                  <div class="col-3">
                                    <div>Rede Social*</div>
                                    <select class="effect" formControlName="tipoRedeSocialId" [ngClass]="cssValidation(redesSociais.get(i+'.tipoRedeSocialId'))">
                                      <option disabled selected hidden value="">Rede Social*</option>
                                      <option *ngFor="let tipoRedeSocial of tiposRedesSociais" value="{{tipoRedeSocial.id}}">{{tipoRedeSocial.descricao}}</option>
                                      <span class="focus-border"></span>
                                    </select>
                                    <div class="invalid-tooltip" *ngIf="f.redesSociais.get(i+'.tipoRedeSocialId').errors?.required">
                                      Tipo de Rede Social é obrigatório.
                                    </div>
                                    <span class="focus-border"></span>
                                  </div>
                                  <div class="col-3">
                                    <div>Endereço*</div>
                                    <input class="effect" type="text" formControlName="endereco" [ngClass]="cssValidation(redesSociais.get(i+'.endereco'))" maxlength="150">
                                    <div class="invalid-tooltip" *ngIf="f.redesSociais.get(i+'.endereco').errors?.required">
                                      Endereço de Rede Social é obrigatório.
                                    </div>
                                    <span class="focus-border"></span>
                                  </div>
                                  <div class="col-3">
                                    <button class="btn btn-sm btn-danger mb-1 d-flex" (click)="openModal(template, i)">
                                      <i class="fa fa-window-close my-1"></i>
                                      <b class="ml-1 d-none d-sm-block">&nbsp;Excluir</b>
                                    </button>
                                    <!-- <button class="p-2 btn btn-sm btn-danger mb-1 d-flex float-end" (click)="openModal(template, i)">
                                      <i class="fa fa-window-close my-1"></i>
                                      <b class="ml-1 d-none d-sm-block">&nbsp;Excluir</b>
                                    </button> -->
                                  </div>
                                </div>
                            </fieldset>
                          </div>
                        </div>
                      </div>
                      <div class="col text-end mt-3">
                        <button class="p-2 btn btn-sm btn-outline-primary mb-2" (click)="addRedeSocial()">
                          <i class="fa fa-plus-circle my-1"></i>
                          <b class="ml-1">Adicionar</b>
                        </button>
                      </div>
                    </div>
                  </div>
                  </div>
                  </form>
                  <div class="row nowrap">
                    <div class="col div-btn-custom">
                      <button class="btn btn-danger btn-custom" (click)="cancelChange()">
                        Cancelar
                      </button>
                      <button class="btn btn-success btn-custom float-end" (click)="saveChange()" [disabled]="!form.valid">
                        Avançar
                      </button>
                    </div>
                  </div>
                </div>
                </div>
              </div>
            </div>
          </div>
        </div>
    </div>
    </div>
  </div>

  <ng-template #template>
    <div class="modal-body text-center">
      <p>Você confirma a exclusão da Rede Social?</p>
      <button type="button" class="btn btn-default" (click)="confirm()" >Sim</button>
      <button type="button" class="btn btn-primary" (click)="decline()" >Não</button>
    </div>
  </ng-template>



